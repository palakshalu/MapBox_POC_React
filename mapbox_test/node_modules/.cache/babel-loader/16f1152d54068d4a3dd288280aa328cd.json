{"ast":null,"code":"'Use strict';\n\nvar List = function (component) {\n  this.component = component;\n  this.items = [];\n  this.active = 0;\n  this.element = document.createElement('ul');\n  this.element.className = 'suggestions'; // selectingListItem is set to true in the time between the mousedown and mouseup when clicking an item in the list\n  // mousedown on a list item will cause the input to blur which normally hides the list, so this flag is used to keep\n  // the list open until the mouseup\n\n  this.selectingListItem = false;\n  component.el.parentNode.insertBefore(this.element, component.el.nextSibling);\n  return this;\n};\n\nList.prototype.show = function () {\n  this.element.style.display = 'block';\n};\n\nList.prototype.hide = function () {\n  this.element.style.display = 'none';\n};\n\nList.prototype.add = function (item) {\n  this.items.push(item);\n};\n\nList.prototype.clear = function () {\n  this.items = [];\n  this.active = 0;\n};\n\nList.prototype.isEmpty = function () {\n  return !this.items.length;\n};\n\nList.prototype.draw = function () {\n  this.element.innerHTML = '';\n\n  if (this.items.length === 0) {\n    this.hide();\n    return;\n  }\n\n  for (var i = 0; i < this.items.length; i++) {\n    this.drawItem(this.items[i], this.active === i);\n  }\n\n  this.show();\n};\n\nList.prototype.drawItem = function (item, active) {\n  var li = document.createElement('li'),\n      a = document.createElement('a');\n  if (active) li.className += ' active';\n  a.innerHTML = item.string;\n  li.appendChild(a);\n  this.element.appendChild(li);\n  li.addEventListener('mousedown', function () {\n    this.selectingListItem = true;\n  }.bind(this));\n  li.addEventListener('mouseup', function () {\n    this.handleMouseUp.call(this, item);\n  }.bind(this));\n};\n\nList.prototype.handleMouseUp = function (item) {\n  this.selectingListItem = false;\n  this.component.value(item.original);\n  this.clear();\n  this.draw();\n};\n\nList.prototype.move = function (index) {\n  this.active = index;\n  this.draw();\n};\n\nList.prototype.previous = function () {\n  this.move(this.active === 0 ? this.items.length - 1 : this.active - 1);\n};\n\nList.prototype.next = function () {\n  this.move(this.active === this.items.length - 1 ? 0 : this.active + 1);\n};\n\nmodule.exports = List;","map":{"version":3,"names":["List","component","items","active","element","document","createElement","className","selectingListItem","el","parentNode","insertBefore","nextSibling","prototype","show","style","display","hide","add","item","push","clear","isEmpty","length","draw","innerHTML","i","drawItem","li","a","string","appendChild","addEventListener","bind","handleMouseUp","call","value","original","move","index","previous","next","module","exports"],"sources":["C:/Users/Surface-Pro/React/mapbox_test/node_modules/suggestions/src/list.js"],"sourcesContent":["'Use strict';\n\nvar List = function(component) {\n  this.component = component;\n  this.items = [];\n  this.active = 0;\n  this.element = document.createElement('ul');\n  this.element.className = 'suggestions';\n\n  // selectingListItem is set to true in the time between the mousedown and mouseup when clicking an item in the list\n  // mousedown on a list item will cause the input to blur which normally hides the list, so this flag is used to keep\n  // the list open until the mouseup\n  this.selectingListItem = false;\n\n  component.el.parentNode.insertBefore(this.element, component.el.nextSibling);\n  return this;\n};\n\nList.prototype.show = function() {\n  this.element.style.display = 'block';\n};\n\nList.prototype.hide = function() {\n  this.element.style.display = 'none';\n};\n\nList.prototype.add = function(item) {\n  this.items.push(item);\n};\n\nList.prototype.clear = function() {\n  this.items = [];\n  this.active = 0;\n};\n\nList.prototype.isEmpty = function() {\n  return !this.items.length;\n};\n\nList.prototype.draw = function() {\n  this.element.innerHTML = '';\n\n  if (this.items.length === 0) {\n    this.hide();\n    return;\n  }\n\n  for (var i = 0; i < this.items.length; i++) {\n    this.drawItem(this.items[i], this.active === i);\n  }\n\n  this.show();\n};\n\nList.prototype.drawItem = function(item, active) {\n  var li = document.createElement('li'),\n    a = document.createElement('a');\n\n  if (active) li.className += ' active';\n\n  a.innerHTML = item.string;\n\n  li.appendChild(a);\n  this.element.appendChild(li);\n\n  li.addEventListener('mousedown', function() {\n    this.selectingListItem = true;\n  }.bind(this));\n\n  li.addEventListener('mouseup', function() {\n    this.handleMouseUp.call(this, item);\n  }.bind(this));\n};\n\nList.prototype.handleMouseUp = function(item) {\n  this.selectingListItem = false;\n  this.component.value(item.original);\n  this.clear();\n  this.draw();\n};\n\nList.prototype.move = function(index) {\n  this.active = index;\n  this.draw();\n};\n\nList.prototype.previous = function() {\n  this.move(this.active === 0 ? this.items.length - 1 : this.active - 1);\n};\n\nList.prototype.next = function() {\n  this.move(this.active === this.items.length - 1 ? 0 : this.active + 1);\n};\n\nmodule.exports = List;\n"],"mappings":"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"},"metadata":{},"sourceType":"script"}